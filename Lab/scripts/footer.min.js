"use strict";
// main_footer.innerHTML=';

var xhr_footer = new XMLHttpRequest();
xhr_footer.open('GET', '/src/templates/footer.html', true);
xhr_footer.send();
xhr_footer.onreadystatechange = function() { // (3)
  if (xhr_footer.readyState != 4) return;
  if (xhr_footer.status != 200) {
    alert( xhr_footer.status + ': ' + xhr_footer.statusText ); // пример вывода: 404: Not Found
  } else {
    // вывести результат

    // var main_ftr = xhr_footer.responseText.getElementById('main_footer');
    // alert(main_ftr);
    // document.body.appendChild(main_ftr);
    // <footer id="main_footer" class="mdl-mega-footer">

    var my_footer = document.createElement('footer');
    my_footer.innerHTML = xhr_footer.responseText;
    my_footer.classList.add('mdl-mega-footer');
    document.getElementsByTagName('main')[0].appendChild(my_footer);
    // alert( xhr_footer.responseText ); // responseText -- текст ответа.
    var tab_buttons = my_footer.querySelectorAll('.tab-button');
    for(var i = 0; i<tab_buttons.length; i++){
     tab_buttons[i].addEventListener('click', function(){
      var el = this.href.split('#')[1];
      var tabs = document.querySelectorAll('.mdl-layout__tab-panel');
      for (var j = 0; j<tabs.length; j++) tabs[j].classList.remove('is-active');
      var buttons = document.querySelectorAll('.mdl-layout__tab');
      for (var j = 0; j<buttons.length; j++) {
       if (buttons[j].href == this.href) buttons[j].classList.add('is-active')
       else buttons[j].classList.remove('is-active');
      }
      document.getElementById(el).classList.add('is-active');
     });
    }
  }

}



/*<footer id="main_footer" class="mdl-mega-footer">

 <div class="mdl-mega-footer--middle-section">
  <div class="mdl-mega-footer--drop-down-section">
   <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
   <h1 class="mdl-mega-footer--heading">Навигация</h1>
   <ul class="mdl-mega-footer--link-list">
    <li><a class="tab-button" href="#theory">Теория</a></li>
    <li><a class="tab-button" href="#hardware">Эксперимент</a></li>

   </ul>
  </div>
  <div class="mdl-mega-footer--drop-down-section">
   <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
   <h1 class="mdl-mega-footer--heading">Важные страницы</h1>
   <ul class="mdl-mega-footer--link-list">
    <li><a href="/">Главаня</a></li>
    <li><a href="http://oihps.ru/">Сайт интситута</a></li>
   </ul>
  </div>
  <div class="mdl-mega-footer--drop-down-section">
   <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
   <h1 class="mdl-mega-footer--heading">Technology</h1>
   <ul class="mdl-mega-footer--link-list">
    <li><a href="#">How it works</a></li>
    <li><a href="#">Patterns</a></li>
    <li><a href="#">Usage</a></li>
    <li><a href="#">Products</a></li>
    <li><a href="#">Contracts</a></li>
   </ul>
  </div>
  <div class="mdl-mega-footer--drop-down-section">
   <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
   <h1 class="mdl-mega-footer--heading">FAQ</h1>
   <ul class="mdl-mega-footer--link-list">
    <li><a href="#">Questions</a></li>
    <li><a href="#">Answers</a></li>
    <li><a href="#">Contact us</a></li>
   </ul>
  </div>
 </div>
 <div class="mdl-mega-footer--bottom-section">
  <div class="mdl-logo">
   More Information
  </div>
  <ul class="mdl-mega-footer--link-list">
   <li><a href="https://developers.google.com/web/starter-kit/">Web Starter Kit</a></li>
   <li><a href="#">Help</a></li>
   <li><a href="#">Privacy and Terms</a></li>
  </ul>
 </div>'
</footer>*/
